<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="controller.js"></script>
<script src="popup.js"></script>
<link rel="stylesheet" type="text/css" href="style.css" />
<link rel="stylesheet" type="text/css" href="popup.css" />
<link rel="stylesheet" type="text/css" href="slider.css" />
<body ng-app="myApp" ng-controller="myCtrl"> 
    <div class="header">                            <!------- Header DIV here --------->
        <a href="#top" class="logo"><img src="images/earth.gif" height="40" width="85" id="logoimg"/></a>
        <p id="insert" style="display: inline;color:yellow"></p>
        <div class="header-right">
            <button class="button" id="loginbtn" onclick="loginButton()" >Login</button>
            <button class="button" onclick="OpenGame()" >Game</button>
            <button class="button" onclick="OpenRegister()" >Register</button>
            <button class="button" id="about" onclick="OpenWelcome()" >About</button>
            <button class="button" onclick="OpenSetting()" >Settings</button>
        </div>
    </div>
<br><br><br><br><br><br>

<div id="main" class="main">

</div>

<div id="login" class="login">

First Name: <input type="text" ng-model="firstName"><br>
Last Name: <input type="text" ng-model="lastName"><br>
<br>
full name: {{ foo1() + " " + foo2() }}
res: {{ resp }}

</div>




<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">
        <span class="close" id="close">&times;</span>
        <h2>Hello guest!</h2>
      </div>
      <div class="modal-body">
        <p>It seems like youre not a member in out app :(</p>
        <p>We invite you to register and login to put site!</p>
      </div>
      <div class="modal-footer">
        <h3>It'll be fun</h3>
        <a id="reg" class="button" onclick="OpenRegister()">Register</button>
        /
        <a id="log" class="button" onclick="loginButton()">login</button>
      </div>
    </div>

</div>







<!-- slider -->
<div id="foot">
  <div class="slideshow-container">
  
  <div class="mySlides fade">
    <div class="numbertext">1 / 3</div>
    <img id="im1" width="300" height="300">
    <div class="text" id="txt1">{{ txt1 }}</div>
  </div>
  
  <div class="mySlides fade">
    <div class="numbertext">2 / 3</div>
    <img id="im2" width="300" height="300">
    <div class="text" id="txt2">{{ txt2 }}</div>
  </div>
  
  <div class="mySlides fade">
    <div class="numbertext">3 / 3</div>
    <img id="im3" width="300" height="300">
    <div class="text" id="txt3">{{ txt3 }}</div>
  </div>
  
  </div>
  <br>
  
  <div style="text-align:center">
    <span class="dot"></span> 
    <span class="dot"></span> 
    <span class="dot"></span> 
  </div>
  </div>


</body>
<script type="text/javascript">
    var login = false;
    /**
     * close chosen divs
     * @param welcome
     * @param login
     * @param game
     * @param settings
     * @param register
     * @param left
     * @param right
     */
    function closeDivs(welcome, login, game, settings,register, left,right, instr)
    {
        if(welcome)
            document.getElementById("welcome").style.display = "none";
        if(register)
            document.getElementById("register").style.display = "none";
        if(login)
            document.getElementById("login").style.display = "none";
        if(game)
            document.getElementById("game").style.display = "none";
        if(settings)
            document.getElementById("settings").style.display = "none";
        if(instr)
            document.getElementById("inst1").style.display = "none";
    }
    function OpenGame()
    {
        if(document.getElementById("loginbtn").innerText === "Login") {
            alert("You need to login first");
            return;
        }
        StopGame();
        closeDivs(true, true, true, true, true,true,true, true);
        var game_div = document.getElementById("game");
        var inst = document.getElementById("inst1");
        if(game_div.style.display === "none")
            game_div.style.display = "block";
        if(inst.style.display === "none")
            inst.style.display = "inline-block";
    }
    function loginButton()
    {
        closeDivs(true, true, true, true, true,true,true, true);
        StopGame();
        if(document.getElementById("loginbtn").innerText === "Disconnect")
        {
            login = false;
            document.getElementById("loginbtn").innerText = "Login";
            document.getElementById("insert").innerText = "";
        }
        var login_div = document.getElementById("login");
        if(login_div.style.display === "none")
            login_div.style.display = "block";
    }
    function OpenWelcome()
    {
        closeDivs(true, true, true, true, true,true,true, true);
        var welcome_div = document.getElementById("welcome");
        if(welcome_div.style.display === "none")
            welcome_div.style.display = "block";
    }
    function OpenRegister()
    {
        closeDivs(true, true, true, true, true,true,true, true);
        var register_div = document.getElementById("register");
        if(register_div.style.display === "none")
            register_div.style.display = "block";
    }
    function OpenSetting()
    {
        closeDivs(true, true, true, true, true,true,true, true);
        var setting_div = document.getElementById("settings");
        if(setting_div.style.display === "none")
            setting_div.style.display = "block";
    }
    //     Model
    var modal = document.getElementById('myModal');
    var btn = document.getElementById("about");
    var span = document.getElementsByClassName("close")[0];
    // When the user clicks on the button, open the modal
    btn.onclick = function() {
        modal.style.display = "block";
    };
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    };
    document.onkeydown = function(evt) {
        evt = evt || window.event;
        var isEscape = false;
        if ("key" in evt) {
            isEscape = (evt.key === "Escape" || evt.key === "Esc");
        } else {
            isEscape = (evt.keyCode === 27);
        }
        if (isEscape) {
            modal.style.display = "none";
        }
    };
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target === modal) {
            modal.style.display = "none";
        }
    };
</script>
</html>